<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>9 Nodes</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a class="active" href="documentation.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch10.html" >next</a>] [<a 
href="mainch8.html" >prev</a>] [<a 
href="mainch8.html#tailmainch8.html" >prev-tail</a>] [<a 
href="#tailmainch9.html">tail</a>] [<a 
href="main.html#mainch9.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;9</span><br /><a 
 id="x11-2350009"></a>Nodes</h2>
<h3 class="sectionHead"><span class="titlemark">9.1   </span> <a 
 id="x11-2360009.1"></a>Introduction</h3>
<!--l. 4--><p class="noindent" >In <a 
href="mainch11.html#x13-30700011">Chapter 11</a>, the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> is introduced along with its primary role: to deploy
and manage <a 
href="mainli2.html#glo:device">Device</a> proxies in whatever host the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> has been launched.
The term <a 
href="mainli2.html#glo:node">Node</a> is used to refer to the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> and its associated <a 
href="mainli2.html#glo:device">Devices</a> and
<a 
href="mainli2.html#glo:service">Services</a>.
<!--l. 8--><p class="noindent" >The concept of a <a 
href="mainli2.html#glo:device">Device</a> and its relationship with the deployment of a set of <a 
href="mainli2.html#glo:component">Components</a> in an
<a 
href="mainli2.html#glo:application">Application</a> is one of the more complicated concepts in REDHAWK. A <a 
href="mainli2.html#glo:device">Device</a> is a program that
the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> interacts with to determine whether or not a <a 
href="mainli2.html#glo:component">Component</a> can run on the host
where that <a 
href="mainli2.html#glo:device">Device</a> is located. If it is determined that the <a 
href="mainli2.html#glo:device">Device</a> can host that <a 
href="mainli2.html#glo:component">Component</a>, the
<a 
href="mainli2.html#glo:device">Device</a> provides the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> with the <a 
href="mainap10.html#api">API</a> necessary to load the <a 
href="mainli2.html#glo:component">Component</a>
binaries over the network and execute them. In short, the <a 
href="mainli2.html#glo:device">Device</a> provides the remote host
discovery mechanism to the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and the mechanism needed to load and
execute whatever <a 
href="mainli2.html#glo:component">Component</a> files are needed to run the <a 
href="mainli2.html#glo:component">Component</a> on the <a 
href="mainli2.html#glo:device">Device</a>
host.
<!--l. 13--><p class="noindent" >This chapter provides a description of how to interact with <a 
href="mainli2.html#glo:device">Devices</a> and <a 
href="mainli2.html#glo:node">Nodes</a> using the
REDHAWK <a 
href="mainap10.html#ide">IDE</a>.
<!--l. 2--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">9.2   </span> <a 
 id="x11-2370009.2"></a>Running a Node</h3>
<!--l. 4--><p class="noindent" >As part of the REDHAWK install, a <a 
href="mainli2.html#glo:domain">Domain</a> and <a 
href="mainli2.html#glo:node">Node</a> are setup by default. To launch the
<a 
href="mainli2.html#glo:domain">Domain</a> and <a 
href="mainli2.html#glo:node">Node</a> refer to <a 
href="mainch11.html#x13-30900011.1.1">Section 11.1.1</a>.
<!--l. 7--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.2.1   </span> <a 
 id="x11-2380009.2.1"></a>Exploring the Running Node</h4>
<!--l. 11--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x11-238002x1">In the <a 
href="mainli2.html#glo:REDHAWK Explorer View"><span 
class="ecbx-1200">REDHAWK Explorer View</span></a>, expand <span 
class="ecbx-1200">REDHAWK_DEV</span>.
                                                                                         
                                                                                         
      </li>
      <li 
  class="enumerate" id="x11-238004x2">Expand <a 
href="mainli2.html#glo:devicemanager"><span 
class="ecbx-1200">Device Managers</span></a>.
      </li>
      <li 
  class="enumerate" id="x11-238006x3">Expand <span 
class="ecbx-1200">DevMgr_&#x003C;localhost&#x003E;.localdomain</span>.
      </li>
      <li 
  class="enumerate" id="x11-238008x4">Select <span 
class="ecbx-1200">GPP_&#x003C;localhost&#x003E;_localdomain</span>.
      </li>
      <li 
  class="enumerate" id="x11-238010x5">Select the <a 
href="mainli2.html#glo:property"><span 
class="ecbx-1200">Properties</span></a> view tab. The <a 
href="mainli2.html#glo:property"><span 
class="ecbx-1200">Properties</span></a> view displays all the <a 
href="mainli2.html#glo:property">Properties</a> for
      this <a 
href="mainli2.html#glo:device">Device</a>, such as the operation system name, amount of available memory, and other
      important information, as seen in <a 
href="#x11-238011r1">Figure 9.1</a>.</li></ol>
<!--l. 19--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x11-238011r1"></a>
                                                                                         
                                                                                         
<!--l. 21--><p class="noindent" ><img 
src="images/NodesAndDevices/GPPProps.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;9.1: </td><td  
class="content">Properties View of a Running GPP</td></tr></table><!--tex4ht:label?: x11-238011r1 -->
                                                                                         
                                                                                         
<!--l. 24--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
<h4 class="subsectionHead"><span class="titlemark">9.2.2   </span> <a 
 id="x11-2390009.2.2"></a>Creating a Component that Consumes Resources</h4>
<!--l. 30--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x11-239002x1">Create a Python <a 
href="mainli2.html#glo:component">Component</a> called <span 
class="ectt-1200">sample</span>.
      </li>
      <li 
  class="enumerate" id="x11-239004x2">On the Project View, select the <span 
class="ecbx-1200">Implementations </span>tab.
      </li>
      <li 
  class="enumerate" id="x11-239006x3">On the bottom-right of this view, the <span 
class="ecbx-1200">Dependencies </span>section is visible. Click <span 
class="ecbx-1200">Add...</span>
      on the <span 
class="ecbx-1200">Dependency </span>subsection of the <span 
class="ecbx-1200">Dependencies </span>section.
      </li>
      <li 
  class="enumerate" id="x11-239008x4">In   the   <span 
class="ecbx-1200">Dependency   Wizard</span>,   select   <span 
class="ecbx-1200">Kind=Property   Reference   </span>and
      <span 
class="ecbx-1200">Type=allocation</span>.
      </li>
      <li 
  class="enumerate" id="x11-239010x5">The <span 
class="ectt-1200">Refid </span>field is more complicated; the <a 
href="mainli2.html#glo:component">Component</a> needs to be given some <a 
href="mainli2.html#glo:property">Property</a>
      that the <a 
href="mainli2.html#glo:component">Component</a> consumes when it is running on a <a 
href="mainli2.html#glo:device">Device</a>. An example of such
      a <a 
href="mainli2.html#glo:property">Property</a> is memory. For this example, memory is an attribute (<a 
href="mainli2.html#glo:property">Property</a>) of the
      <a 
href="mainli2.html#glo:device">Device</a> that the <a 
href="mainli2.html#glo:component">Component</a> consumes. To describe this, click the <span 
class="ecbx-1200">Browse </span>button on
      the <span 
class="ecbx-1200">Refid </span>field and select <span 
class="ecbx-1200">GPP:memCapacity </span>(do not worry if there are multiple
      instances of the same <a 
href="mainli2.html#glo:property">Property</a> on the list, just pick one).
      </li>
      <li 
  class="enumerate" id="x11-239012x6">After selecting this <a 
href="mainli2.html#glo:property">Property</a>, the globally unique <a 
href="mainap10.html#id">ID</a> of the property populates the
      <span 
class="ecbx-1200">Refid </span>field, which in this case is: <span 
class="ecbx-1200">DCE:8dcef419-b440-4bcf-b893-cab79b6024fb</span>
      (this is the <span 
class="ectt-1200">id </span>of the corresponding <a 
href="mainli2.html#glo:property">Property</a> of the <a 
href="mainap10.html#gpp">GPP</a>). To complete the dependency
      definition,  provide  a  value  for  the  consumption  of  this  <a 
href="mainli2.html#glo:property">Property</a>:  in  this  case,  set
      <span 
class="ecbx-1200">Value=</span><span 
class="ecti-1200">1000</span>.
      </li>
      <li 
  class="enumerate" id="x11-239014x7">Click <span 
class="ecbx-1200">Finish</span>.
      </li>
      <li 
  class="enumerate" id="x11-239016x8">Save the project, generate the code and drag the <a 
href="mainli2.html#glo:component">Component</a> project to <a 
href="mainli2.html#glo:REDHAWK Explorer"><span 
class="ecbx-1200">REDHAWK</span>
      <span 
class="ecbx-1200">Explorer</span></a> <span 
class="cmmi-12">&#x003E;  </span><a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a>.</li></ol>
                                                                                         
                                                                                         
<!--l. 45--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.2.3   </span> <a 
 id="x11-2400009.2.3"></a>Create a Waveform for the New Component</h4>
<!--l. 48--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x11-240002x1">Create a new <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> called <span 
class="ectt-1200">sample_deploy</span>.
      </li>
      <li 
  class="enumerate" id="x11-240004x2">Drag the <a 
href="mainli2.html#glo:component">Component</a> <span 
class="ectt-1200">sample </span>from the Palette onto the Diagram.
      </li>
      <li 
  class="enumerate" id="x11-240006x3">Save the project and drag the project <span 
class="ecti-1200">sample_deploy </span>from the <span 
class="ecbx-1200">Project Explorer </span>to
      <a 
href="mainli2.html#glo:REDHAWK Explorer"><span 
class="ecbx-1200">REDHAWK Explorer</span></a> <span 
class="cmmi-12">&#x003E;  </span><a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a>.</li></ol>
<!--l. 53--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.2.4   </span> <a 
 id="x11-2410009.2.4"></a>Observe the Effect of Launching the Component</h4>
<!--l. 57--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x11-241002x1">On the running <a 
href="mainli2.html#glo:domain">Domain</a>, select <span 
class="ecbx-1200">GPP_&#x003C;localhost&#x003E;_localdomain </span>and note the
      value for <span 
class="ecbx-1200">memCapacity </span>on the <a 
href="mainli2.html#glo:property"><span 
class="ecbx-1200">Properties</span></a> tab for the <a 
href="mainap10.html#gpp">GPP</a> <a 
href="mainli2.html#glo:device">Device</a> as seen in <a 
href="#x11-238011r1">Figure
      9.1</a>.
      </li>
      <li 
  class="enumerate" id="x11-241004x2">Launch the <a 
href="mainli2.html#glo:application">Application</a> <span 
class="ecti-1200">sample_deploy </span>on the running <a 
href="mainli2.html#glo:domain">Domain</a> (right-click <a 
href="mainli2.html#glo:domain">Domain</a>,
      select <span 
class="ecbx-1200">Launch Waveform...</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">sample_deploy</span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">Finish</span>). Note <span 
class="ecbx-1200">memCapacity </span>for
      <span 
class="ecbx-1200">GPP_&#x003C;localhost&#x003E;_localdomain </span>again; it is 1000 less than before the launch of
      the <a 
href="mainli2.html#glo:application">Application</a>.
      </li>
      <li 
  class="enumerate" id="x11-241006x3">Release            the            <a 
href="mainli2.html#glo:application">Application</a>            (<span 
class="ecbx-1200">REDHAWK_DEV            </span><span 
class="cmmi-12">&#x003E;</span>
      <span 
class="ecbx-1200">Waveforms </span><span 
class="cmmi-12">&#x003E;  </span><span 
class="ecbx-1200">sample_deploy_&#x003C;#&#x003E; </span>right-click <span 
class="ecbx-1200">Release</span>). Note memCapacity
      for <span 
class="ecbx-1200">GPP_&#x003C;localhost&#x003E;_localdomain </span>again; it is restored to the original value.</li></ol>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">9.3   </span> <a 
 id="x11-2420009.3"></a>Creating a New Node</h3>
                                                                                         
                                                                                         
<!--l. 4--><p class="noindent" >As shown in <a 
href="#x11-2380009.2.1">Section 9.2.1</a>, a <a 
href="mainli2.html#glo:node">Node</a> is a <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> instance with an associated set of <a 
href="mainli2.html#glo:device">Devices</a>
and <a 
href="mainli2.html#glo:service">Services</a>. A <a 
href="mainli2.html#glo:node">Node</a> is completely defined by a <a 
href="mainap10.html#dcd">DCD</a> <a 
href="mainap10.html#xml">XML</a> file. A <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> uses the
information in this <a 
href="mainap10.html#xml">XML</a> file to deploy, configure, and inter-connect <a 
href="mainli2.html#glo:device">Devices</a> and <a 
href="mainli2.html#glo:service">Services</a> (<a 
href="mainli2.html#glo:service">Services</a>
are described in <a 
href="mainch8.html#x10-2290008">Chapter 8</a>).
<!--l. 8--><p class="noindent" >The <span 
class="ecbx-1200">REDHAWK </span><a 
href="mainli2.html#glo:node"><span 
class="ecbx-1200">Node</span></a> <span 
class="ecbx-1200">Project </span>in the REDHAWK <a 
href="mainap10.html#ide">IDE</a> provides a mechanism for generating
these <a 
href="mainap10.html#dcd">DCD</a> files. By invoking the <span 
class="ecbx-1200">REDHAWK </span><a 
href="mainli2.html#glo:node"><span 
class="ecbx-1200">Node</span></a> <span 
class="ecbx-1200">Project</span>, a wizard is started where the
developer selects different characteristics for the <a 
href="mainli2.html#glo:node">Node</a> like the project name. In the wizard, the
developer must provide both a project name and a <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> name. The <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a>
name is the name of the <a 
href="mainli2.html#glo:domain">Domain</a> that the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> automatically associates with upon
startup. At runtime, the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> name that the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> associates with can be
overridden.
<!--l. 14--><p class="noindent" >The <a 
href="mainli2.html#glo:node">Node</a> project has multiple tabs: Overview, Devices, Diagram, and the DCD file tab. For more
information about the Node Editor and the multiple tabs displayed, refer to <a 
href="mainch14.html#x16-40600014.4.3">Section 14.4.3</a>.
The most intuitive tab is the Diagram tab, which allows a developer to drag <a 
href="mainli2.html#glo:device">Devices</a>
available in <span 
class="ectt-1200">$SDRROOT </span>into the <a 
href="mainli2.html#glo:node">Node</a>, as seen in <a 
href="#x11-242001r2">Figure 9.2</a>. Once the set of members for a
particular <a 
href="mainli2.html#glo:node">Node</a> is determined, save the project and drag it to <a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a> to install
it.
<!--l. 18--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x11-242001r2"></a>
                                                                                         
                                                                                         
<!--l. 20--><p class="noindent" ><img 
src="images/NodesAndDevices/NodeDesign.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;9.2: </td><td  
class="content">Node design diagram</td></tr></table><!--tex4ht:label?: x11-242001r2 -->
                                                                                         
                                                                                         
<!--l. 23--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
<!--l. 25--><p class="noindent" >To launch this new <a 
href="mainli2.html#glo:node">Node</a>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x11-242003x1">Right-click the <a 
href="mainli2.html#glo:node">Node</a> descriptor, <a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a> <span 
class="cmmi-12">&#x003E;  </span><a 
href="mainli2.html#glo:node"><span 
class="ecbx-1200">Nodes</span></a> <span 
class="cmmi-12">&#x003E;  </span><span 
class="ecbx-1200">sample_node</span>.
      </li>
      <li 
  class="enumerate" id="x11-242005x2">Select <span 
class="ecbx-1200">Launch </span><a 
href="mainli2.html#glo:devicemanager"><span 
class="ecbx-1200">Device Manager</span></a>. The running <a 
href="mainli2.html#glo:node">Node</a> is now visible under the running
      <a 
href="mainli2.html#glo:domain">Domain</a>&#8217;s <a 
href="mainli2.html#glo:devicemanager"><span 
class="ecbx-1200">Device Managers</span></a> section.</li></ol>
<h3 class="sectionHead"><span class="titlemark">9.4   </span> <a 
 id="x11-2430009.4"></a>Device and Service Affinity</h3>
<!--l. 35--><p class="noindent" >The REDHAWK RPMs do not include a Device Manager with the affinity option enabled. To
enable affinity processing by the Device Manager, build the REDHAWK software with the affinity
option enabled (run the <span 
class="ectt-1200">configure </span>command with the <span 
class="ectt-1200">&#8211;enable-affinity=yes</span>. For more
information about building the REDHAWK software, refer to <a 
href="mainap4.html#x23-506000D">Appendix D</a>). For more information
about the affinity directives and how to include them in a DCD file, consult <a 
href="mainch6.html#x8-2040006.3.4">likechapter&#x00A0;6.3.4<!--tex4ht:ref: sec:WaveformResourceAffinity --></a>. The
following example sets the processing affinity for the ChannelizeSW device to use the CPUs from
the second processor socket.
<div class="minipage"><script type="syntaxhighlighter" class="brush: xml"><![CDATA[

     <componentplacement>
       <componentfileref refid="ChannelizerSW_12345"/>
       <componentinstantiation id="Channelizer_1" startorder="1">
         <usagename>Channelizer_1</usagename>
         <affinity>
            <simpleref refid="affinity::exec_directive_class" value="socket" />
            <!-- uses numa_parse_nodestring, socket id's start at 0 -->
            <simpleref refid="affinity::exec_directive_value" value="1"/>
         </affinity>
         <findcomponent>
           <namingservice name="Channelizer_1"/>
         </findcomponent>
       </componentinstantiation>
     </componentplacement>


]]></script></div>
                                                                                         
                                                                                         
<!--l. 2--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">9.5   </span> <a 
 id="x11-2440009.5"></a>Distributed Computing and RF Devices</h3>
<!--l. 4--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.5.1   </span> <a 
 id="x11-2450009.5.1"></a>Dependencies</h4>
<!--l. 5--><p class="noindent" >As described in <a 
href="#x11-2390009.2.2">Section 9.2.2</a>, a <a 
href="mainli2.html#glo:component">Component</a> can be described as consuming an arbitrary amount of
capacity from a <a 
href="mainli2.html#glo:device">Device</a>; this relationship is called a <span 
class="ecbx-1200">dependency</span>. Dependencies are generalized, so
it is possible to create a dependency based on attributes (<a 
href="mainli2.html#glo:property">Properties</a> of kind allocation) of <a 
href="mainli2.html#glo:device">Devices</a>
irrespective of the specific nature of a <a 
href="mainli2.html#glo:device">Device</a>.
<!--l. 8--><p class="noindent" >A dependency is defined by how much of a particular <a 
href="mainli2.html#glo:device">Device</a> resource is required. For
example, a <a 
href="mainli2.html#glo:component">Component</a> dependency could be a requirement of 1.7 units of <a 
href="mainli2.html#glo:device">Device</a> <a 
href="mainli2.html#glo:property">Property</a>
<span 
class="ecbx-1200">some_id </span>Testing this description requires the runtime environment to only determine
whether a <a 
href="mainli2.html#glo:device">Device</a> contains an allocation <a 
href="mainli2.html#glo:property">Property</a> with the <a 
href="mainap10.html#id">ID</a> <span 
class="ecbx-1200">some_id</span>; this concept can
be generalized to any physical constraint that a <a 
href="mainli2.html#glo:device">Device</a> might have, requiring only a
convention between the <a 
href="mainli2.html#glo:component">Component</a> developer and the <a 
href="mainli2.html#glo:device">Device</a> developer regarding a
<a 
href="mainli2.html#glo:device">Device</a>&#8217;s <a 
href="mainli2.html#glo:property">Property</a> <a 
href="mainap10.html#id">ID</a> and units, both of which are publicized in a <a 
href="mainli2.html#glo:device">Device</a>&#8217;s <a 
href="mainap10.html#prf">PRF</a> file
(<span 
class="ectt-1200">prf.xml</span>).
<!--l. 11--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.5.2   </span> <a 
 id="x11-2460009.5.2"></a>Allocation Properties</h4>
<!--l. 13--><p class="noindent" >Allocation <a 
href="mainli2.html#glo:property">Properties</a> are <a 
href="mainli2.html#glo:device">Device</a> <a 
href="mainli2.html#glo:property">Properties</a> that are associated with an action and are used by the
runtime environment to determine whether or not a <a 
href="mainli2.html#glo:device">Device</a> can support a particular <a 
href="mainli2.html#glo:component">Component</a>
dependency. This action can either be <span 
class="ecbx-1200">external </span>or some logical operation (e.g., <span 
class="ecbx-1200">eq </span>(equals) or <span 
class="ecbx-1200">lt</span>
(less than)).
<!--l. 16--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.2.1   </span> <a 
 id="x11-2470009.5.2.1"></a>Non-External Properties</h5>
<!--l. 17--><p class="noindent" >Non-external <a 
href="mainli2.html#glo:property">Properties</a> are evaluated by the runtime environment without querying the <a 
href="mainli2.html#glo:device">Device</a>.
For example, a <a 
href="mainli2.html#glo:component">Component</a> dependency on an allocation <a 
href="mainli2.html#glo:property">Property</a> with operation <span 
class="ecbx-1200">eq </span>might be <span 
class="ecti-1200">blue</span>.
The runtime environment then checks the <a 
href="mainli2.html#glo:device">Device</a>&#8217;s <a 
href="mainap10.html#prf">PRF</a> file (<span 
class="ectt-1200">prf.xml</span>) and the <a 
href="mainli2.html#glo:devicemanager">Device Manager</a>&#8217;s
configuration file for the deployment of that <a 
href="mainli2.html#glo:device">Device</a> (<span 
class="ectt-1200">dcd.xml</span>) to determine whether that
<a 
href="mainli2.html#glo:property">Property</a>&#8217;s value is equal to <span 
class="ecti-1200">blue</span>.
                                                                                         
                                                                                         
<!--l. 20--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.2.2   </span> <a 
 id="x11-2480009.5.2.2"></a>External Properties</h5>
<!--l. 21--><p class="noindent" >External <a 
href="mainli2.html#glo:property">Properties</a>, on the other hand, are handled by the <a 
href="mainli2.html#glo:device">Device</a>. For example, a <a 
href="mainli2.html#glo:component">Component</a>
dependency on an allocation <a 
href="mainli2.html#glo:property">Property</a> with operation <span 
class="ecbx-1200">external </span>might be <span 
class="ecti-1200">yellow</span>. The runtime
environment then makes a function call on that <a 
href="mainli2.html#glo:device">Device</a> with two arguments: the allocation
<a 
href="mainli2.html#glo:property">Property</a> <a 
href="mainap10.html#id">ID</a> and the value <span 
class="ecti-1200">yellow</span>. The <a 
href="mainli2.html#glo:device">Device</a> then, at its own discretion, determines whether to
provide a positive response or a negative one. The algorithm used by the <a 
href="mainli2.html#glo:device">Device</a> to determine
whether or not it has sufficient capacity to allocate against a value of <span 
class="ecti-1200">yellow </span>is left up to the
<a 
href="mainli2.html#glo:device">Device</a> developer.
<!--l. 24--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">9.5.3   </span> <a 
 id="x11-2490009.5.3"></a>Allocation Usage</h4>
<!--l. 26--><p class="noindent" >Capacity allocation can be defined at either the <a 
href="mainli2.html#glo:component">Component</a> level or the <a 
href="mainli2.html#glo:application">Application</a> level. When
defining the capacity allocation at a <a 
href="mainli2.html#glo:component">Component</a> level, that means that every time this
<a 
href="mainli2.html#glo:component">Component</a> is deployed, that capacity must be available. When defining the capacity
allocation at a <a 
href="mainli2.html#glo:application">Application</a> level, that means that every time that this <a 
href="mainli2.html#glo:application">Application</a> is
deployed, that capacity must be available, irrespective of which <a 
href="mainli2.html#glo:component">Components</a> make up the
<a 
href="mainli2.html#glo:application">Application</a>.
<!--l. 30--><p class="noindent" >Even though capacity allocation can be used to describe any dependency that a <a 
href="mainli2.html#glo:component">Component</a> may
have, in reality there are two kinds of capacities that concern REDHAWK: <a 
href="mainap10.html#rf">RF</a> and
computing.
<!--l. 32--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.1   </span> <a 
 id="x11-2500009.5.3.1"></a><a 
href="mainap10.html#rf">RF</a> Allocation</h5>
<!--l. 34--><p class="noindent" >The allocation of <a 
href="mainap10.html#rf">RF</a> capacities is with <a 
href="mainli2.html#glo:property">Properties</a> that are defined as part of the
FrontendInterfaces, which are described in Appendix <a 
href="mainap6.html#x25-516000F">F<!--tex4ht:ref: chap:FEI --></a>. It generally makes more sense to
define the <a 
href="mainap10.html#rf">RF</a> capacity allocation at the <a 
href="mainli2.html#glo:application">Application</a> level rather than the <a 
href="mainli2.html#glo:component">Component</a>
level, since the <a 
href="mainli2.html#glo:application">Application</a> understands the context for the deployment. However, <a 
href="mainap10.html#rf">RF</a>
capacity dependencies can be declared at either the <a 
href="mainli2.html#glo:component">Component</a> level or the <a 
href="mainli2.html#glo:application">Application</a>
level.
<!--l. 38--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.2   </span> <a 
 id="x11-2510009.5.3.2"></a>Computing Allocation</h5>
                                                                                         
                                                                                         
<!--l. 40--><p class="noindent" >Determining capacity for computation is different from determining <a 
href="mainap10.html#rf">RF</a> needs. <a 
href="mainap10.html#rf">RF</a> needs are fairly
straightforward (i.e.: I need to tune to 100 MHz with a 200 kHz bandwidth). Computing resources,
on the other hand, can vary substantially. A program (i.e.: a <a 
href="mainli2.html#glo:component">Component</a>) consumes
different amount of computing resources depending on the nature of the computing
platform. Things like L2 cache size and the layout of the processor (from a <a 
href="mainli2.html#glo:numa">NUMA</a>
perspective) can have a dramatic impact on the computational load a program has on the
processor.
<!--l. 46--><p class="noindent" >Due to the variability intrinsic to computing resources, REDHAWK does not rely on hardcoded
estimates for the selection of a computing platform. Instead, <a 
href="mainli2.html#glo:gpp">GPP</a> implements a reservation
mechanism. When a <a 
href="mainli2.html#glo:component">Component</a> is loaded onto the <a 
href="mainli2.html#glo:gpp">GPP</a>, the <a 
href="mainli2.html#glo:gpp">GPP</a> reserves an arbitrary, and
tunable, amount of resources. <a 
href="mainli2.html#glo:gpp">GPP</a> tracks the state of the <a 
href="mainli2.html#glo:component">Component</a>, and when the <a 
href="mainli2.html#glo:component">Component</a>
changes state from stopped to started, the reservation is tabled, and <a 
href="mainli2.html#glo:gpp">GPP</a> inspects the actual usage
by the <a 
href="mainli2.html#glo:component">Component</a>. When the state of the <a 
href="mainli2.html#glo:component">Component</a> changes from started to stopped, the tabled
reservation is applied again.
<!--l. 52--><p class="noindent" >Using this reservation/observation behavior, <a 
href="mainli2.html#glo:component">Components</a> can be automatically distributed
over an arbitrary number of computers with no planning needed on the part of the
user.
<!--l. 54--><p class="noindent" >The user can force <a 
href="mainli2.html#glo:component">Components</a> to deploy to specific <a 
href="mainli2.html#glo:gpp">GPPs</a>. To force a specific placement, use the
device assignment fields when creating the <a 
href="mainli2.html#glo:application">Application</a>.
<!--l. 57--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.3   </span> <a 
 id="x11-2520009.5.3.3"></a>The Deployment Process</h5>
<!--l. 58--><p class="noindent" >The runtime environment scans all non-busy executable <a 
href="mainli2.html#glo:device">Devices</a> registered in the <a 
href="mainli2.html#glo:domain">Domain</a> to
determine which <a 
href="mainli2.html#glo:gpp">GPP</a> matches the processor/operating system dependency. A <a 
href="mainli2.html#glo:device">Device</a> is busy when
its state is returned as <span 
class="ecbx-1200">BUSY</span>, otherwise it is either <span 
class="ecbx-1200">IDLE </span>or <span 
class="ecbx-1200">ACTIVE</span>. When a <a 
href="mainli2.html#glo:device">Device</a> is found
that satisfies all <a 
href="mainli2.html#glo:component">Component</a> dependencies, it marks that <a 
href="mainli2.html#glo:device">Device</a> as assigned to the deployment of
that <a 
href="mainli2.html#glo:component">Component</a> and moves on to whatever other <a 
href="mainli2.html#glo:component">Components</a> make up the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>. Once all
<a 
href="mainli2.html#glo:component">Components</a> have been found an assigned <a 
href="mainli2.html#glo:gpp">GPP</a>, the <a 
href="mainli2.html#glo:component">Components</a> are deployed to all those
<a 
href="mainli2.html#glo:gpp">GPPs</a>.
<!--l. 63--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.4   </span> <a 
 id="x11-2530009.5.3.4"></a>Binding a Component&#8217;s Deployments to Executable Devices</h5>
<!--l. 65--><p class="noindent" >When deploying Components, you may want to bind a Component&#8217;s deployment to a specific
Executable Device without going through the allocation process. For more information about
binding a Component&#8217;s deployment to an Executable Device, refer to <a 
href="mainch6.html#x8-2010006.3.2">Section 6.3.2</a>. The
Node definition file (DCD) provides the necessary <span 
class="ectt-1200">deployerrequires </span>id/value pairs
                                                                                         
                                                                                         
to be associated with an Executable Device. These id/value pairs are alphanumeric
strings that are matched during a Component&#8217;s deployments. If a Component defines
a set of <span 
class="ectt-1200">devicerrequires</span>, then the Domain is searched for ExecutableDevices that
have a matching set. For Components that do not have an id/value set, but request
to deploy on an ExecutableDevice with an id/value set, that request for deployment
fails.
<!--l. 67--><p class="noindent" >The following example describes the new xml elements <span 
class="ectt-1200">deployerrequires </span>that can be assigned to
a GPP device (ExecutableDevice):
<div class="minipage"><script type="syntaxhighlighter" class="brush: xml"><![CDATA[

  <!-- example of ID/value pairs for a GPP in a DCD file
  <componentplacement>
      <componentfileref refid="GPP1_SPD_1"/>
      <componentinstantiation id="RED_NODE:GPP_1">
         <usagename>RED_NODE:GPP_1</usagename>
         <deployerrequires>
              <requires id="color" value="RED"/>
              <requires id="rank" value="15"/>
         </deployerrequires>
      </componentinstantiation>
  </componentplacement>
]]></script></div>
<!--l. 85--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.5   </span> <a 
 id="x11-2540009.5.3.5"></a>Distribution of Files</h5>
<!--l. 87--><p class="noindent" >All <a 
href="mainli2.html#glo:component">Component</a> binaries and descriptor files reside in <span 
class="ectt-1200">$SDRROOT/dom </span>on whatever host is
running the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a>. In every host that is running a <a 
href="mainli2.html#glo:devicemanager">Device Manager</a>, a cache
directory is created in <span 
class="ectt-1200">$SDRROOT/dev</span>, with a directory entry for each <a 
href="mainli2.html#glo:device">Device</a> that the
<a 
href="mainli2.html#glo:devicemanager">Device Manager</a> manages. When a <a 
href="mainli2.html#glo:component">Component</a> runs on any given <a 
href="mainli2.html#glo:device">Device</a>, the binary (or
module or Java ARchive (<a 
href="mainap10.html#jar">JAR</a>) file) is copied from <span 
class="ectt-1200">$SDRROOT/dom </span>to the <a 
href="mainli2.html#glo:device">Device</a>&#8217;s cache
directory. Using this mechanism, the <a 
href="mainli2.html#glo:device">Device</a> can start the <a 
href="mainli2.html#glo:component">Component</a> process on a remote
host.
<!--l. 92--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">9.5.3.6   </span> <a 
 id="x11-2550009.5.3.6"></a>Dependency Management</h5>
                                                                                         
                                                                                         
<!--l. 94--><p class="noindent" >A difficulty in deploying a <a 
href="mainli2.html#glo:component">Component</a> is that, as a program, it might have dependencies like
C/C++ libraries, Python modules, or Java <a 
href="mainap10.html#jar">JAR</a>s. REDHAWK allows for the creation of soft
package dependencies, where a library, module, or <a 
href="mainap10.html#jar">JAR</a> can be associated with its own profile.
<a 
href="mainli2.html#glo:component">Components</a> that have a runtime dependency with this library, module, or <a 
href="mainap10.html#jar">JAR</a>, can declare this
library profile as a dependency. When the <a 
href="mainli2.html#glo:component">Component</a> is loaded over the network, this dependency
is also loaded, and before the <a 
href="mainli2.html#glo:component">Component</a> is forked, the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s local running environment is
changed to include the library in <span 
class="ectt-1200">$LD_LIBRARY_PATH</span>, module in <span 
class="ectt-1200">$PYTHONPATH</span>, or <a 
href="mainap10.html#jar">JAR</a> in
<span 
class="ectt-1200">$CLASSPATH</span>. The allocation/dependency requirements associated with the <a 
href="mainli2.html#glo:component">Component</a>
are also applied to the library; for example, if a <a 
href="mainli2.html#glo:component">Component</a> is designed to run on an
x86_64 platform, the runtime environment checks that dependency runs on an x86_64
platform.
                                                                                         
                                                                                         
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch10.html" >next</a>] [<a 
href="mainch8.html" >prev</a>] [<a 
href="mainch8.html#tailmainch8.html" >prev-tail</a>] [<a 
href="mainch9.html" >front</a>] [<a 
href="main.html#mainch9.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailmainch9.html"></a>    
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
