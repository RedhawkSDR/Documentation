<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>4 Component Structure</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a class="active" href="documentation.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="#tailmainch4.html">tail</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x6-440004"></a>Component Structure</h2>
<h3 class="sectionHead"><span class="titlemark">4.1   </span> <a 
 id="x6-450004.1"></a>Introduction</h3>
<!--l. 4--><p class="noindent" >This chapter discusses more advanced topics related to <a 
href="mainli2.html#glo:component">Component</a> development. Prior to reading
this chapter, familiarize yourself with the information in <a 
href="mainch3.html#x5-190003">Chapter 3</a>.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.2   </span> <a 
 id="x6-460004.2"></a>Auto-Generated Component Files</h3>
<!--l. 2--><p class="noindent" >The REDHAWK <a 
href="mainap11.html#ide">IDE</a> provides a tool for auto-generating <a 
href="mainli2.html#glo:component">Component</a> code for C++, Python, or
Java languages. This process takes care of REDHAWK compliance and allows the developer to
insert their own custom processing algorithm for working with the data sent/received by the
<a 
href="mainli2.html#glo:component">Component</a>. The following section provides a brief description of the generated files. Note that
some files may be freely modified, while other files should not be modified. For more information
on using the REDHAWK <a 
href="mainap11.html#ide">IDE</a>, refer to the REDHAWK <a 
href="mainap11.html#ide">IDE</a> chapters of this document (Starting
at <a 
href="mainch15.html#x17-40800015">Chapter 15</a>).
<!--l. 9--><p class="noindent" >Modifying particular files is discouraged for two reasons:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-46002x1">If a user regenerates the <a 
href="mainli2.html#glo:component">Component</a> using the <a 
href="mainap11.html#ide">IDE</a> (for example, to add a <a 
href="mainli2.html#glo:port">Port</a>), particular
      files are overwritten by the code generators. <div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">
           <ul class="itemize1">
           <li class="itemize">Files whose modification is not discouraged (e.g., <span 
class="ectt-1200">componentName.cpp</span>) are not
           affected by such an action.
           </li>
           <li class="itemize">The REDHAWK <a 
href="mainap11.html#ide">IDE</a> provides the option of not rewriting particular files.</li></ul>
      </p></div></div>
      </li>
      <li 
  class="enumerate" id="x6-46004x2">Modification of files implementing REDHAWK interfaces may impact compatibility with
      other REDHAWK modules.</li></ol>
<!--l. 21--><p class="noindent" >The word <span 
class="ectt-1200">componentName </span>is replaced with the <a 
href="mainli2.html#glo:component">Component</a> name provided during <a 
href="mainli2.html#glo:component">Component</a>
creation.
                                                                                         
                                                                                         
<!--l. 23--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.1   </span> <a 
 id="x6-470004.2.1"></a>Files Generated for All Components</h4>
<!--l. 24--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.1   </span> <a 
 id="x6-480004.2.1.1"></a>Build-Related Files</h5>
<!--l. 26--><p class="noindent" >The code generators create the following files for building and installing the <a 
href="mainli2.html#glo:component">Component</a> using
Autotools:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">build.sh </span>-  Two  of  these  files  are  generated:  one  of  them  resides  in  the  top-level
      <a 
href="mainli2.html#glo:component">Component</a> directory and the other resides in the source directory. The first of the two
      calls the <span 
class="ectt-1200">build.sh </span>script in the source directory.
      <!--l. 31--><p class="noindent" >The <span 
class="ectt-1200">build.sh </span>script in the source directory runs <span 
class="ectt-1200">./reconf; ./configure; make</span>. The
      Autotools documentation can provide more information on these commands: in short,
      this process creates the <a 
href="mainli2.html#glo:component">Component</a> entry point.
      <!--l. 33--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  If you use this script, you must install the dependency rpm-build by entering the following
      command: <span 
class="ectt-1200">sudo yum install rpm-build</span>. </p></div></div>
      </li>
      <li class="itemize"><span 
class="ectt-1200">configure.ac </span>- A standard Autoconf configuration file. Refer to the Autoconf
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am </span>- A standard Automake configuration file. Refer to the Automake
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am.ide </span>- Provides build information for the REDHAWK <a 
href="mainap11.html#ide">IDE</a>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">reconf </span>- Script that is used to generate the configure script in the Autotools
      chain.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spec </span>- Provides <span 
class="ectt-1200">rpmbuild </span>configuration information for facilitating
                                                                                         
                                                                                         
      building <a 
href="mainap11.html#rpm">RPM</a>s for the <a 
href="mainli2.html#glo:component">Component</a>. Refer to the <a 
href="mainap11.html#rpm">RPM</a> documentation for more
      information.</li></ul>
<!--l. 45--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.2   </span> <a 
 id="x6-490004.2.1.2"></a>Component XML Descriptors</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.prf.xml </span>- Describes the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Properties</a>. More information
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">prf.xml </span>file can be found in the REDHAWK specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.scd.xml </span>-  Describes  the  <a 
href="mainli2.html#glo:component">Component</a>&#8217;s  <a 
href="mainli2.html#glo:port">Ports</a>  and  interfaces.  More
      information  on  the  <a 
href="mainli2.html#glo:component">Component</a>&#8217;s  <span 
class="ectt-1200">scd.xml </span>file  can  be  found  in  the  REDHAWK
      specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spd.xml </span>-  Provides  a  top-level  description  of  the  <a 
href="mainli2.html#glo:component">Component</a>,
      including  the  names  and  locations  of  the  <a 
href="mainli2.html#glo:component">Component</a>  entry  point  and  <a 
href="mainap11.html#xml">XML</a>  files.
      More information on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">spd.xml </span>file can be found in the REDHAWK
      specification.</li></ul>
<!--l. 53--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.3   </span> <a 
 id="x6-500004.2.1.3"></a>Unit Tests File</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">test_componentName.py </span>- Contains a unit test built on the standard Python <span 
class="ectt-1200">unittest</span>
      Framework. The provided test exercises the generated code. Additional tests may be
      added for testing algorithms produced by the developer. For more information on how
      to add unit tests, consult the Python <span 
class="ectt-1200">unittest </span>Framework documentation.
      <!--l. 58--><p class="noindent" >To   run   the   unit   test(s),   simply   execute   the   file   from   the   command-line
      <span 
class="ectt-1200">./test_componentName.py</span>.
      </li></ul>
                                                                                         
                                                                                         
<!--l. 62--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.2   </span> <a 
 id="x6-510004.2.2"></a>Files Generated for C++ Components</h4>
<!--l. 64--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.2.1   </span> <a 
 id="x6-520004.2.2.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.h </span>- The appropriate place to put header-related code in support of
      <span 
class="ectt-1200">componentName.cpp</span>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.cpp </span>- The appropriate place for developers to add their own processing
      behavior.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.h </span>(Optional) - This file is only generated for <a 
href="mainli2.html#glo:port">Ports</a> that utilize interfaces
      other than <a 
href="mainap11.html#bulkio">BulkIO</a>, Burst Input/Output (<a 
href="mainap11.html#burstio">BurstIO</a>), <a 
href="mainap11.html#fei">FEI</a> and Messaging. Contains the
      <a 
href="mainli2.html#glo:port">Port</a>-related code for the <a 
href="mainli2.html#glo:component">Component</a>. If the type of ports changes, then this file needs
      to be re-generated, overwriting your application-specific code.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.cpp </span>(Optional) - This file is only generated for <a 
href="mainli2.html#glo:port">Ports</a> that utilize interfaces
      other than <a 
href="mainap11.html#bulkio">BulkIO</a>, <a 
href="mainap11.html#burstio">BurstIO</a>, <a 
href="mainap11.html#fei">FEI</a> and Messaging. Contains the <a 
href="mainli2.html#glo:port">Port</a>-related code for
      the <a 
href="mainli2.html#glo:component">Component</a>. If the type of ports changes, then this file needs to be re-generated,
      overwriting your application-specific code.</li></ul>
<!--l. 72--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.2.2   </span> <a 
 id="x6-530004.2.2.2"></a>Files that you should not modify</h5>
<!--l. 74--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">main.cpp </span>-  Contains  the  function  that  is  used  to  create  an  instance  of  the
      <a 
href="mainli2.html#glo:component">Component</a>. For shared library components, this is a dynamically-loadable function
      called <span 
class="ectt-1200">make_component()</span>. For executable components, this is the <span 
class="ectt-1200">main() </span>function for
      the process. Modification of this file is not recommended.
                                                                                         
                                                                                         
      </li>
      <li class="itemize"><span 
class="ectt-1200">struct_props.h </span>- Contains support classes for struct <a 
href="mainli2.html#glo:property">Properties</a> that are defined in
      the code-generation interface. Modification of this file is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.h </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a> based
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of <span 
class="ectt-1200">componentName_base.h </span>is
      discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.cpp           </span>-                  Provides                  interface
      implementations for the <a 
href="mainli2.html#glo:component">Component</a> based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>.
      Modification of <span 
class="ectt-1200">componentName_base.cpp </span>is discouraged.</li></ul>
<!--l. 86--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.3   </span> <a 
 id="x6-540004.2.3"></a>Files Generated for Python Components</h4>
<!--l. 87--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.3.1   </span> <a 
 id="x6-550004.2.3.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.py </span>- The appropriate place for developers to add their own processing
      behavior.</li></ul>
<!--l. 91--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.3.2   </span> <a 
 id="x6-560004.2.3.2"></a>Files that you should not modify</h5>
<!--l. 93--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName_base.py </span>-  Provides  interface  implementations  for  the  <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
                                                                                         
                                                                                         
<!--l. 99--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.4   </span> <a 
 id="x6-570004.2.4"></a>Files Generated for Java Components</h4>
<!--l. 102--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.1   </span> <a 
 id="x6-580004.2.4.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.java </span>-  The  appropriate  place  for  developers  to  add  their  own
      processing behavior.</li></ul>
<!--l. 107--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.2   </span> <a 
 id="x6-590004.2.4.2"></a>Files that you should not modify</h5>
<!--l. 109--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">startJava.sh </span>- Script containing the process that is started when the <a 
href="mainli2.html#glo:component">Component</a> is
      instantiated.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.java </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
<!--l. 115--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.3   </span> <a 
 id="x6-600004.2.4.3"></a>Transitioning Java Components from version 1.8 to later versions</h5>
<!--l. 117--><p class="noindent" >If <span 
class="ectt-1200">componentName.java </span>is not regenerated when migrating from 1.8 to later versions, the
<a 
href="mainli2.html#glo:component">Component</a> does not inherit from the base class, so it does not take advantage of the new code
pattern. In addition, in order for the <a 
href="mainli2.html#glo:component">Component</a> to build, the method <span 
class="ectt-1200">configureOrb</span>
must be added to <span 
class="ectt-1200">componentName.java </span>because the base class makes a call on that
method.
<!--l. 119--><p class="noindent" >If you want to inherit from the base class and take advantage of the new pattern, save off the
custom main class Java file, regenerate the main Java class to get the new code pattern, and for
example, move source from the run() method to the serviceFunction() method to integrate the
custom code in the 1.8 main class into the new main class.
                                                                                         
                                                                                         
<!--l. 121--><p class="noindent" ><div class="admonition block caution block-indent"><div class="caution-inner"><p class="para block block-first">  If <span 
class="ectt-1200">componentName.java </span>is regenerated, any custom code added to it is removed. </p></div></div>
<!--l. 125--><p class="noindent" >Add this class to the <span 
class="ectt-1200">componentName.java </span>right before the last line which is "}"
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
     /**
      * Set additional options for ORB startup. For example:
      *
      *   orbProps.put("com.sun.CORBA.giop.ORBFragmentSize",
      *                          Integer.toString(fragSize));
      *
      * @param orbProps
      */
     public static void configureOrb(final Properties orbProps) {
     }
]]></script></div>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.3   </span> <a 
 id="x6-610004.3"></a>Auto-Generated Component Methods</h3>
<!--l. 3--><p class="noindent" >This section provides an overview of noteworthy methods provided in the auto-generated
<a 
href="mainli2.html#glo:component">Component</a> files. In some cases, the names of the methods vary by language.
<!--l. 6--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x6-620004.3.1"></a><span 
class="ectt-1200">serviceFunction()</span></h4>
<!--l. 7--><p class="noindent" >The core functionality of a <a 
href="mainli2.html#glo:component">Component</a> resides in the <span 
class="ectt-1200">serviceFunction() </span>method in C++,
the <span 
class="ectt-1200">process() </span>method in Python, and the <span 
class="ectt-1200">serviceFunction() </span>method in Java. The
<span 
class="ectt-1200">serviceFunction() </span>is invoked on a recurring basis after <span 
class="ectt-1200">start() </span>is called on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s
base class.
<!--l. 10--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x6-630004.3.2"></a><span 
class="ectt-1200">constructor()</span></h4>
<!--l. 11--><p class="noindent" >This is the <a 
href="mainli2.html#glo:component">Component</a>/<a 
href="mainli2.html#glo:device">Device</a> constructor. When this function is invoked, properties of kind
                                                                                         
                                                                                         
<a 
href="mainli2.html#glo:property">Property</a> are initialized to their default or overloaded state.
<!--l. 13--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x6-640004.4"></a>Base Component Members</h3>
<!--l. 15--><p class="noindent" >This section provides an overview of members available to the <a 
href="mainli2.html#glo:component">Component</a> class. There are four
kinds of members: ports, properties, domain awareness, and network interface.
<!--l. 17--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.1   </span> <a 
 id="x6-650004.4.1"></a>Ports</h4>
<!--l. 19--><p class="noindent" >Data flow into and out of <a 
href="mainli2.html#glo:component">Components</a> is accomplished through the use of <a 
href="mainli2.html#glo:port">Ports</a>. <a 
href="mainli2.html#glo:port">Ports</a> are
described as being either a <span 
class="ecbx-1200">provides </span>(input) or <span 
class="ecbx-1200">uses </span>(output) <a 
href="mainli2.html#glo:port">Port</a>. This naming convention is
often viewed as counter-intuitive, so an explanation is in order. <a 
href="mainli2.html#glo:port">Ports</a> are <a 
href="mainap11.html#rpc">RPC</a> interfaces to a
<a 
href="mainli2.html#glo:component">Component</a>. An input <a 
href="mainli2.html#glo:port">Port</a>, therefore, <span 
class="ecbx-1200">provides </span>functionality that can be <span 
class="ecbx-1200">used </span>by an output
<a 
href="mainli2.html#glo:port">Port</a>.
<!--l. 25--><p class="noindent" >REDHAWK contains a variety of standardized interfaces that facilitate interoperability. These
interfaces are implemented by <a 
href="mainli2.html#glo:port">Ports</a>. When a <a 
href="mainli2.html#glo:port">Port</a> is selected in the <a 
href="mainli2.html#glo:component">Component</a> generation
wizard in the REDHAWK <a 
href="mainap11.html#ide">IDE</a>, code to implement these interfaces is automatically
generated.
<!--l. 29--><p class="noindent" >Irrespective of direction, a <a 
href="mainli2.html#glo:port">Port</a> is accessed as a member of the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class. Assuming
that a <a 
href="mainli2.html#glo:port">Port</a> called &#8220;myport&#8221; of any interface exists in the <a 
href="mainli2.html#glo:component">Component</a>, it is accessed in the following
ways in C++, Python, and Java, respectively.
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->myport
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.port_myport
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.port_myport
]]></script></div>
<!--l. 42--><p class="noindent" >See <a 
href="mainch6.html#x8-1130006.6">Section 6.6</a> for details on how to use ports for sending or receiving data.
                                                                                         
                                                                                         
<!--l. 44--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.2   </span> <a 
 id="x6-660004.4.2"></a>Properties</h4>
<!--l. 47--><p class="noindent" >Much like <a 
href="mainli2.html#glo:port">Ports</a>, <a 
href="mainli2.html#glo:property">Properties</a> are available to the <a 
href="mainli2.html#glo:component">Component</a> through generated members to for the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class. The <a 
href="mainli2.html#glo:property">Property</a> is found through the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s name (if it has
one) or its id. For example, if a <a 
href="mainli2.html#glo:property">Property</a> is defined with an id of &#8220;foo&#8221; and a name
of &#8220;abc&#8221;, it would can be accessed in the following ways in C++, Python, and Java,
respectively,
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->abc
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.abc
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.abc
]]></script></div>
<!--l. 60--><p class="noindent" >If the <a 
href="mainli2.html#glo:property">Property</a> does not have a name defined, then it would be accessed in the following way in
C++, Python, and Java, respectively,
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->foo
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.foo
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.foo
]]></script></div>
<!--l. 72--><p class="noindent" >Note that no automated check is performed on the code generation to avoid a name collision
between properties or ports.
<!--l. 74--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.4.2.1   </span> <a 
 id="x6-670004.4.2.1"></a>Enumerations</h5>
<!--l. 76--><p class="noindent" ><span 
class="ectt-1200">simple </span><a 
href="mainli2.html#glo:property">Properties</a> can have enumerated values, which associate symbolic names with values. Code
generation creates constants for these values, allowing the <a 
href="mainli2.html#glo:component">Component</a> developer to use
the symbolic name instead of the literal value. For <span 
class="ectt-1200">simple </span><a 
href="mainli2.html#glo:property">Properties</a> in <span 
class="ectt-1200">struct </span>or
                                                                                         
                                                                                         
<span 
class="ectt-1200">struct sequence </span><a 
href="mainli2.html#glo:property">Properties</a>, the generated constants are nested under the name of the
struct.
<!--l. 84--><p class="noindent" ><h5>C++</h5> In C++, the generated constants for enumerations are static variables in nested namespaces,
under the top-level namespace <span 
class="ectt-1200">enums</span>:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
enums::simple::LABEL
enums::structprop::field::LABEL
enums::structseq_struct::field::LABEL
]]></script></div>
<!--l. 95--><p class="noindent" >Enumerated values for <span 
class="ectt-1200">simple </span><a 
href="mainli2.html#glo:property">Properties</a> are in the <a 
href="mainli2.html#glo:component">Component</a> base class header, while those in
<span 
class="ectt-1200">struct </span>or <span 
class="ectt-1200">struct sequence </span><a 
href="mainli2.html#glo:property">Properties</a> are in <span 
class="ectt-1200">struct_props.h </span>along with the struct
definitions.
<!--l. 101--><p class="noindent" ><h5>Java</h5> In Java, the generated constants for enumerations are public static variables in nested static
classes, under a top-level class named <span 
class="ectt-1200">enums</span>:
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
enums.simple.LABEL
enums.structprop.field.LABEL
enums.structseq_struct.field.LABEL
]]></script></div>
<!--l. 112--><p class="noindent" >The <span 
class="ectt-1200">enums </span>class is a static nested class in the <a 
href="mainli2.html#glo:component">Component</a> base class.
<!--l. 118--><p class="noindent" ><h5>Python</h5> In Python, the generated constants for enumerations are class attributes in nested classes, under a
top-level class named <span 
class="ectt-1200">enums</span>:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
enums.simple.LABEL
enums.structprop.field.LABEL
enums.structseq_struct.field.LABEL
]]></script></div>
<!--l. 129--><p class="noindent" >The <span 
class="ectt-1200">enums </span>class is imported from the <a 
href="mainli2.html#glo:component">Component</a> base class module.
<!--l. 131--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.3   </span> <a 
 id="x6-680004.4.3"></a>Domain Awareness</h4>
<!--l. 132--><p class="noindent" >Each <a 
href="mainli2.html#glo:component">Component</a> has two members that provide a reference to the <a 
href="mainli2.html#glo:domain">Domain</a> and <a 
href="mainli2.html#glo:application">Application</a> in
which the <a 
href="mainli2.html#glo:component">Component</a> is operating. To retrieve the Domain Manager and Application, access
                                                                                         
                                                                                         
the member functions <span 
class="ectt-1200">getDomainManager() </span>and <span 
class="ectt-1200">getApplication()</span>, which return a
DomainManagerContainer and ApplicationContainer, respectively. DomainManagerContainer has
the member <span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap11.html#corba">CORBA</a> pointer to the Domain Manager object.
ApplicationContainer has the member <span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap11.html#corba">CORBA</a> pointer to the
Application object.
<!--l. 137--><p class="noindent" >In the case of <a 
href="mainli2.html#glo:device">Devices</a>, instead of <span 
class="ectt-1200">getApplication()</span>, the base class contains <span 
class="ectt-1200">getDeviceManager()</span>,
which returns a DeviceManagerContainer. The DeviceManagerContainer has the member
<span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap11.html#corba">CORBA</a> pointer to the Device Manager object.
<!--l. 140--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.4   </span> <a 
 id="x6-690004.4.4"></a>Network Interface</h4>
<!--l. 141--><p class="noindent" >If a <a 
href="mainli2.html#glo:component">Component</a> contains a dependency against any member of <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s nic_allocation allocation
property, then the framework will, upon deployment, make sure that those network
resources are made available to the <a 
href="mainli2.html#glo:component">Component</a>. Whichever <a 
href="mainli2.html#glo:nic">NIC</a> statisfies the allocation
requirement is fed to the <a 
href="mainli2.html#glo:component">Component</a>, and it is made available to the developer through the
<span 
class="ectt-1200">getNetwork() </span>member, which returns a NetworkContainer. NetworkContainer has the member
function <span 
class="ectt-1200">getNic()</span>, which is the string name of the <a 
href="mainli2.html#glo:nic">NIC</a> that satisfied the requirement (i.e.:
eth0).
<!--l. 145--><p class="noindent" >Note that if the network dependency is declared for any one <a 
href="mainli2.html#glo:component">Component</a>, that <a 
href="mainli2.html#glo:component">Component</a>&#8217;s
deployment is made to the core(s) that are closest to the <a 
href="mainli2.html#glo:nic">NIC</a> on the processor. This happens
automatically with no need for additional input from the deployer.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.5   </span> <a 
 id="x6-700004.5"></a>Component Implementations</h3>
<!--l. 3--><p class="noindent" ><a 
href="mainli2.html#glo:component">Components</a> may specify particular dependencies such as Operating System (<a 
href="mainap11.html#os">OS</a>), processor
architecture, or required <a 
href="mainli2.html#glo:device">Device</a> <a 
href="mainli2.html#glo:property">Properties</a> (e.g., processor speed or memory capacity). Setting
these dependencies ensures that a <a 
href="mainli2.html#glo:component">Component</a> is deployed to an appropriate <a 
href="mainli2.html#glo:device">Device</a> at
runtime.
<!--l. 6--><p class="noindent" >While REDHAWK supports multiple implementations for a single <a 
href="mainli2.html#glo:component">Component</a>, it can be confusing,
especially when debugging a system. Except for some limited scenarios, it is recommended that
developers associate a single implementation with each <a 
href="mainli2.html#glo:component">Component</a>
                                                                                         
                                                                                         
<!--l. 9--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.6   </span> <a 
 id="x6-710004.6"></a>Java Version</h3>
<!--l. 11--><p class="noindent" >The default supported version for the Java language for Java <a 
href="mainli2.html#glo:component">Components</a> is 1.7. The Java version
for any specific <a 
href="mainli2.html#glo:component">Component</a> can be changed by changing the argument to the RH_PROG_JAVAC
macro in the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s configure.ac file.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.7   </span> <a 
 id="x6-720004.7"></a>Managing and Defining Properties</h3>
<!--l. 3--><p class="noindent" ><a 
href="mainli2.html#glo:property">Properties</a> are defined by their structure, kind, and type. The four different <a 
href="mainli2.html#glo:property">Property</a> structures
include:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">simple </span>- single value such as 1.0, or &#8220;a string"
      </li>
      <li class="itemize"><span 
class="ectt-1200">simple sequence </span>- list/array of zero or more simples such as [1, 2, 3], or [&#8220;first",
      &#8220;second"]
      </li>
      <li class="itemize"><span 
class="ectt-1200">struct </span>- groups several simples and simple sequences together
      </li>
      <li class="itemize"><span 
class="ectt-1200">struct sequence </span>- list/array of zero or more instances of a struct</li></ul>
<!--l. 12--><p class="noindent" >Three commonly used kinds of <a 
href="mainli2.html#glo:property">Properties</a> in REDHAWK include:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">property </span>- denotes <a 
href="mainli2.html#glo:property">Properties</a> that are used for configuration and status
      </li>
      <li class="itemize"><span 
class="ectt-1200">allocation </span>- expresses requirements that will be satisfied by a REDHAWK <a 
href="mainli2.html#glo:device">Device</a>
      </li>
      <li class="itemize"><span 
class="ectt-1200">message </span>- used only with structs and indicates that the struct will be used as an event
      message within REDHAWK</li></ul>
                                                                                         
                                                                                         
<!--l. 20--><p class="noindent" >The <a 
href="mainli2.html#glo:property">Property</a>&#8217;s type corresponds with basic programming language primitive types such as floats,
long integers, booleans, etc. Additionally, numeric types can be complex.
<!--l. 22--><p class="noindent" >Through the use of generated code and the REDHAWK libraries, manipulation of <a 
href="mainli2.html#glo:property">Properties</a> uses
fundamental types provided by C++, Python, or Java, as seen in Section <a 
href="#x6-660004.4.2">4.4.2<!--tex4ht:ref: accessing_properties --></a>. For
example, a <span 
class="ectt-1200">simple sequence</span>, complex-float <a 
href="mainli2.html#glo:property">Property</a> is manipulated via a std::vector&#x003C;
std::complex&#x003C;float&#x003E; &#x003E; variable in C++ and a list of Python complex objects in Python.
Generated <a 
href="mainli2.html#glo:component">Component</a> code provides a class data field representing each <a 
href="mainli2.html#glo:property">Property</a> for that
<a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 26--><p class="noindent" >The primitive data types supported for <span 
class="ectt-1200">simple </span>and <span 
class="ectt-1200">simple sequence </span><a 
href="mainli2.html#glo:property">Properties</a> are: boolean,
octet, float, double, short, ushort, long, longlong, ulong, ulonglong, string, objref, char, and
utctime. The utctime type is used to describe time and can be used to synchronize property change
events and queries on the <a 
href="mainli2.html#glo:component">Component</a> or <a 
href="mainli2.html#glo:device">Device</a>. To set a default value for a time as a property, use
a string of the form "YYYY:MM:DD::hh:mm:ss.sss". Where YYYY is the year, MM is the month,
DD is the day, hh is the hour (0-23), mm is the minutes, and ss.sss is the fractional
seconds".
<!--l. 31--><p class="noindent" >In some cases, it is desirable for the utctime <a 
href="mainli2.html#glo:property">Property</a> to be initialized to the current time. To do
so, the default value (in either the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s default <a 
href="mainli2.html#glo:property">Property</a> value or as an overload at the
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a> level) is set to "now", which is the time when the <a 
href="mainli2.html#glo:component">Component</a> is deployed. The string
"now" can also be used in the Python Sandbox to set the utctime <a 
href="mainli2.html#glo:property">Property</a>&#8217;s value to the current
time. Inside the <a 
href="mainli2.html#glo:component">Component</a> code, helpers are available to set the utctime <a 
href="mainli2.html#glo:property">Property</a>
value to the current time; for example, in C++, the following code sets the <a 
href="mainli2.html#glo:property">Property</a> to
now:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
my_prop = redhawk::time::utils::now();
]]></script></div>
<!--l. 40--><p class="noindent" >The following primitive data types can be marked as complex values: boolean, octet, float, double,
short, ushort, long, longlong, ulong, and ulonglong.
<!--l. 3--><p class="noindent" >Each <a 
href="mainli2.html#glo:component">Component</a> implements the <span 
class="ectt-1200">CF::PropertySet </span>interface, which provides remote access
to the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Properties</a> through the <span 
class="ectt-1200">query() </span>and <span 
class="ectt-1200">configure() </span>methods. The
<span 
class="ectt-1200">query() </span>method provides a means for reading a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s current <a 
href="mainli2.html#glo:property">Property</a> settings
and the <span 
class="ectt-1200">configure() </span>method provides a means for setting a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Property</a>
values.
<!--l. 6--><p class="noindent" ><a 
href="mainli2.html#glo:property">Properties</a> can be <span 
class="ectt-1200">readonly</span>, <span 
class="ectt-1200">writeonly</span>, or <span 
class="ectt-1200">readwrite</span>. <a 
href="mainli2.html#glo:property">Properties</a> with read privileges can only be
accessed using the <span 
class="ectt-1200">query() </span>method and <a 
href="mainli2.html#glo:property">Properties</a> with write privileges can only be set using the
<span 
class="ectt-1200">configure() </span>method.
<!--l. 8--><p class="noindent" >The REDHAWK library base classes provide a complete implementation of <span 
class="ectt-1200">configure()</span>, with the
creation of specific <a 
href="mainli2.html#glo:property">Properties</a> handled per <a 
href="mainli2.html#glo:component">Component</a> by the generated base classes.
Beyond the basic updating of local values, the standard <span 
class="ectt-1200">configure() </span>implementation
                                                                                         
                                                                                         
provides:
      <ul class="itemize1">
      <li class="itemize">Thread-safe updates via mutual exclusion
      </li>
      <li class="itemize">Automatic conversion of numeric types
      </li>
      <li class="itemize">Notification on changes to <a 
href="mainli2.html#glo:property">Property</a> values
      </li>
      <li class="itemize">External reporting of changes via events
      </li>
      <li class="itemize">Exception throwing for invalid input</li></ul>
<!--l. 18--><p class="noindent" >Because of these enhancements, developers are strongly discouraged from overloading either the
<span 
class="ectt-1200">query() </span>or <span 
class="ectt-1200">configure() </span>methods.
<!--l. 20--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.1   </span> <a 
 id="x6-730004.7.1"></a>Property Access Summary</h4>
<!--l. 22--><p class="noindent" >The combination of property types and their related attributes, such as readwrite and
command-line, can be confusing. Furthermore, different properties whose values are overloaded are
initialized at different points in the <a 
href="mainli2.html#glo:component">Component</a> lifecycle. To clarify the bevahior of these different
properties, table <a 
href="#x6-73001r1">4.1<!--tex4ht:ref: table:propertysummary --></a> is included.
<div class="table">
                                                                                         
                                                                                         
<!--l. 47--><p class="noindent" ><a 
 id="x6-73001r1"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"></colgroup><colgroup id="TBL-7-2g"><col 
id="TBL-7-2"></colgroup><colgroup id="TBL-7-3g"><col 
id="TBL-7-3"></colgroup><colgroup id="TBL-7-4g"><col 
id="TBL-7-4"></colgroup><colgroup id="TBL-7-5g"><col 
id="TBL-7-5"></colgroup><colgroup id="TBL-7-6g"><col 
id="TBL-7-6"></colgroup><colgroup id="TBL-7-7g"><col 
id="TBL-7-7"></colgroup><colgroup id="TBL-7-8g"><col 
id="TBL-7-8"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td colspan="3" style="white-space:nowrap; text-align:center;" id="TBL-7-1-1"  
class="td11">             <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Setting</div>               </td><td colspan="5" style="white-space:nowrap; text-align:center;" id="TBL-7-1-4"  
class="td11">               <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Behavior (Yes/No/Undefined)</div>
</td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-1"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">kind</span>         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-2"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">mode</span>      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-3"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">com</span>
 <span 
class="ecbx-1200">line</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-4"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">overload</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-5"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">config</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-2-6"  
class="td11"> <!--l. 52--><p class="noindent" ><span 
class="ecbx-1200">query</span> </td><td colspan="2" style="white-space:nowrap; text-align:center;" id="TBL-7-2-7"  
class="td11">      <div class="multicolumn"  style="white-space:nowrap; text-align:center;"><span 
class="ecbx-1200">initialization</span></div>
</td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-1"  
class="td11"> <!--l. 53--><p class="noindent" >           </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-2"  
class="td11"> <!--l. 53--><p class="noindent" >         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-3"  
class="td11"> <!--l. 53--><p class="noindent" >      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-4"  
class="td11"> <!--l. 53--><p class="noindent" >         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-5"  
class="td11"> <!--l. 53--><p class="noindent" >       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-6"  
class="td11"> <!--l. 53--><p class="noindent" >      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-7"  
class="td11"> <!--l. 53--><p class="noindent" ><span 
class="ecbx-1200">language</span>
 <span 
class="ecbx-1200">construct.</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-3-8"  
class="td11"> <!--l. 53--><p class="noindent" ><span 
class="ecbx-1200">generated</span>
 <span 
class="ecbx-1200">construct.</span> </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-1"  
class="td11"> <!--l. 56--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-2"  
class="td11"> <!--l. 56--><p class="noindent" ><span 
class="ectt-1200">readwrite</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-3"  
class="td11"> <!--l. 56--><p class="noindent" >No     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-4"  
class="td11"> <!--l. 56--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-5"  
class="td11"> <!--l. 56--><p class="noindent" >Yes      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-6"  
class="td11"> <!--l. 56--><p class="noindent" >Yes     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-7"  
class="td11"> <!--l. 56--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-4-8"  
class="td11"> <!--l. 56--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-5-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-1"  
class="td11"> <!--l. 57--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-2"  
class="td11"> <!--l. 57--><p class="noindent" ><span 
class="ectt-1200">readonly</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-3"  
class="td11"> <!--l. 57--><p class="noindent" >No     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-4"  
class="td11"> <!--l. 57--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-5"  
class="td11"> <!--l. 57--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-6"  
class="td11"> <!--l. 57--><p class="noindent" >Yes     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-7"  
class="td11"> <!--l. 57--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-5-8"  
class="td11"> <!--l. 57--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-6-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-1"  
class="td11"> <!--l. 58--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-2"  
class="td11"> <!--l. 58--><p class="noindent" ><span 
class="ectt-1200">writeonly</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-3"  
class="td11"> <!--l. 58--><p class="noindent" >No     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-4"  
class="td11"> <!--l. 58--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-5"  
class="td11"> <!--l. 58--><p class="noindent" >Yes      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-6"  
class="td11"> <!--l. 58--><p class="noindent" >No      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-7"  
class="td11"> <!--l. 58--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-6-8"  
class="td11"> <!--l. 58--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-7-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-1"  
class="td11"> <!--l. 59--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-2"  
class="td11"> <!--l. 59--><p class="noindent" ><span 
class="ectt-1200">readwrite</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-3"  
class="td11"> <!--l. 59--><p class="noindent" >Yes    </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-4"  
class="td11"> <!--l. 59--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-5"  
class="td11"> <!--l. 59--><p class="noindent" >Yes      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-6"  
class="td11"> <!--l. 59--><p class="noindent" >Yes     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-7"  
class="td11"> <!--l. 59--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-7-8"  
class="td11"> <!--l. 59--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-8-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-1"  
class="td11"> <!--l. 60--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-2"  
class="td11"> <!--l. 60--><p class="noindent" ><span 
class="ectt-1200">readonly</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-3"  
class="td11"> <!--l. 60--><p class="noindent" >Yes    </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-4"  
class="td11"> <!--l. 60--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-5"  
class="td11"> <!--l. 60--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-6"  
class="td11"> <!--l. 60--><p class="noindent" >Yes     </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-7"  
class="td11"> <!--l. 60--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-8-8"  
class="td11"> <!--l. 60--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-9-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-1"  
class="td11"> <!--l. 61--><p class="noindent" ><span 
class="ectt-1200">property</span>   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-2"  
class="td11"> <!--l. 61--><p class="noindent" ><span 
class="ectt-1200">writeonly</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-3"  
class="td11"> <!--l. 61--><p class="noindent" >Yes    </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-4"  
class="td11"> <!--l. 61--><p class="noindent" >Yes         </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-5"  
class="td11"> <!--l. 61--><p class="noindent" >Yes      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-6"  
class="td11"> <!--l. 61--><p class="noindent" >No      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-7"  
class="td11"> <!--l. 61--><p class="noindent" >No            </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-9-8"  
class="td11"> <!--l. 61--><p class="noindent" >Yes            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-10-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-1"  
class="td11"> <!--l. 62--><p class="noindent" ><span 
class="ectt-1200">allocation</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-2"  
class="td11"> <!--l. 62--><p class="noindent" ><span 
class="ectt-1200">readwrite</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-3"  
class="td11"> <!--l. 62--><p class="noindent" >N/A   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-4"  
class="td11"> <!--l. 62--><p class="noindent" >No          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-5"  
class="td11"> <!--l. 62--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-6"  
class="td11"> <!--l. 62--><p class="noindent" >U       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-7"  
class="td11"> <!--l. 62--><p class="noindent" >U              </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-10-8"  
class="td11"> <!--l. 62--><p class="noindent" >U              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-11-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-1"  
class="td11"> <!--l. 63--><p class="noindent" ><span 
class="ectt-1200">allocation</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-2"  
class="td11"> <!--l. 63--><p class="noindent" ><span 
class="ectt-1200">readonly</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-3"  
class="td11"> <!--l. 63--><p class="noindent" >N/A   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-4"  
class="td11"> <!--l. 63--><p class="noindent" >No          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-5"  
class="td11"> <!--l. 63--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-6"  
class="td11"> <!--l. 63--><p class="noindent" >U       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-7"  
class="td11"> <!--l. 63--><p class="noindent" >U              </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-11-8"  
class="td11"> <!--l. 63--><p class="noindent" >U              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-12-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-1"  
class="td11"> <!--l. 64--><p class="noindent" ><span 
class="ectt-1200">allocation</span> </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-2"  
class="td11"> <!--l. 64--><p class="noindent" ><span 
class="ectt-1200">writeonly</span></td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-3"  
class="td11"> <!--l. 64--><p class="noindent" >N/A   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-4"  
class="td11"> <!--l. 64--><p class="noindent" >No          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-5"  
class="td11"> <!--l. 64--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-6"  
class="td11"> <!--l. 64--><p class="noindent" >No      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-7"  
class="td11"> <!--l. 64--><p class="noindent" >U              </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-12-8"  
class="td11"> <!--l. 64--><p class="noindent" >U              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-7-13-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-1"  
class="td11"> <!--l. 65--><p class="noindent" ><span 
class="ectt-1200">message</span>    </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-2"  
class="td11"> <!--l. 65--><p class="noindent" >any          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-3"  
class="td11"> <!--l. 65--><p class="noindent" >N/A   </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-4"  
class="td11"> <!--l. 65--><p class="noindent" >No          </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-5"  
class="td11"> <!--l. 65--><p class="noindent" >No       </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-6"  
class="td11"> <!--l. 65--><p class="noindent" >No      </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-7"  
class="td11"> <!--l. 65--><p class="noindent" >U              </td><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-13-8"  
class="td11"> <!--l. 65--><p class="noindent" >U              </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-14-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-7-14-1"  
class="td11">            </td></tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;4.1: </td><td  
class="content">Property Summary</td></tr></table><!--tex4ht:label?: x6-73001r1 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<!--l. 78--><p class="noindent" >There are several aspects of table <a 
href="#x6-73001r1">4.1<!--tex4ht:ref: table:propertysummary --></a> that are of note. The language-specific constructor (for
example, <span 
class="ectt-1200">__init__ </span>in Python) never has the correct overloaded default value for a property; that
value is only available when the generated <span 
class="ectt-1200">constructor </span>function is invoked. The use of the
command-line marker for a property does not make it available at the language-specific
constructor. The command-line marker is used to pass a property value in the command-line to
<a 
href="mainli2.html#glo:service">Services</a>.
<!--l. 83--><p class="noindent" >A <a 
href="mainli2.html#glo:service">Service</a> normally does not support interfaces necessary to initialize properties over <a 
href="mainap11.html#corba">CORBA</a>. In
order to support <a 
href="mainli2.html#glo:property">Properties</a> in <a 
href="mainli2.html#glo:service">Services</a>, a <a 
href="mainli2.html#glo:property">Property</a> can be defined for a <a 
href="mainli2.html#glo:service">Service</a> and
set as command-line, allowing the property to be overloaded for the specific <a 
href="mainli2.html#glo:service">Service</a>
instance.
<!--l. 86--><p class="noindent" >Allocation <a 
href="mainli2.html#glo:property">Properties</a> are not to be used as value containers; they are to be used to
describe allocations to the <a 
href="mainli2.html#glo:device">Device</a>. While it is technically possible to query allocation
<a 
href="mainli2.html#glo:property">Properties</a>, and while they may hold a value in the <a 
href="mainli2.html#glo:device">Device</a> implementation, that value is
undefined, and could be anything. Allocation <a 
href="mainli2.html#glo:property">Properties</a> only have meaning in the context of
<span 
class="ectt-1200">allocateCapacity </span>calls, and by extension have meaning only when servicing an allocation
callback function.
<!--l. 90--><p class="noindent" >Message <a 
href="mainli2.html#glo:property">Properties</a> have no storage meaning at all. They are prototypes describing structure
message formats to be sent over <span 
class="ectt-1200">MessageEvent </span><a 
href="mainli2.html#glo:port">Ports</a>. Furthermore, message <a 
href="mainli2.html#glo:property">Properties</a> can only be
structures; they cannot be simple, simplesequence, or structsequence.
<h4 class="subsectionHead"><span class="titlemark">4.7.2   </span> <a 
 id="x6-740004.7.2"></a>Property Change Listeners</h4>
<!--l. 96--><p class="noindent" >Often, it is useful to trigger additional actions when the value of a <a 
href="mainli2.html#glo:property">Property</a> changes. <a 
href="mainli2.html#glo:component">Components</a>
support a type of notification called <a 
href="mainli2.html#glo:property">Property</a> change listeners that enable the developer to register
callback methods that are executed whenever <span 
class="ectt-1200">configure() </span>is called with new values for the
particular <a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 98--><p class="noindent" ><a 
href="mainli2.html#glo:property">Property</a> change listeners are executed while holding the lock that protects access to all <a 
href="mainli2.html#glo:property">Properties</a>
for the <a 
href="mainli2.html#glo:component">Component</a>. This ensures that no outside changes can occur while responding to <a 
href="mainli2.html#glo:property">Property</a>
changes. The callback may alter the value of the <a 
href="mainli2.html#glo:property">Property</a> or call additional functions; however,
avoid computationally expensive or blocking operations.
<!--l. 100--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.2.1   </span> <a 
 id="x6-750004.7.2.1"></a>C++</h5>
<!--l. 102--><p class="noindent" >C++ <a 
href="mainli2.html#glo:component">Components</a> support notification of <a 
href="mainli2.html#glo:property">Property</a> value changes using member function
                                                                                         
                                                                                         
callbacks.
<!--l. 104--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span>simple
<a 
href="mainli2.html#glo:property">Property</a> of type <span 
class="ectt-1200">float</span>, of a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">MyComponent</span>.
<!--l. 106--><p class="noindent" >In <span 
class="ectt-1200">[component].h</span>, add a private method declaration for your callback. The callback receives two
arguments, the old and new values:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
void freqMHz_changed(float oldValue, float newValue);
]]></script></div>
<!--l. 112--><p class="noindent" >Implement the function in <span 
class="ectt-1200">[component].cpp</span>.
<!--l. 114--><p class="noindent" >Then, in the <a 
href="mainli2.html#glo:component">Component</a> <span 
class="ectt-1200">constructor()</span>, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->addPropertyListener(freqMHz, this, &MyComponent_i::freqMHz_changed);
]]></script></div>
<!--l. 120--><p class="noindent" ><span 
class="ectt-1200">addPropertyListener </span>takes three arguments: the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s member variable, the target object
(typically <span 
class="ectt-1200">this</span>) and a pointer to a member function.
<!--l. 122--><p class="noindent" >When defining a property listener for struct or sequence <a 
href="mainli2.html#glo:property">Property</a>, the new and old values are
passed by <span 
class="ectt-1200">const </span>reference:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
void taps_changed(const std::vector<float>& oldValue,
                     const std::vector<float>& newValue);
]]></script></div>
<!--l. 129--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.2.2   </span> <a 
 id="x6-760004.7.2.2"></a>Python</h5>
<!--l. 131--><p class="noindent" >Like C++, Python <a 
href="mainli2.html#glo:component">Components</a> allow registering listeners by <a 
href="mainli2.html#glo:property">Property</a>. The callback is typically a
member function.
<!--l. 133--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz</span>
<a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 135--><p class="noindent" >Define the callback as a member function on your <a 
href="mainli2.html#glo:component">Component</a>. Excluding the implicit <span 
class="ectt-1200">self</span>
argument, the callback receives three arguments: the <a 
href="mainli2.html#glo:property">Property</a> Identifier (<a 
href="mainap11.html#id">ID</a>) and the old and new
values.
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
def freqMHz_changed(self, propid, oldval, newval):
     # Perform action based on change
]]></script></div>
<!--l. 142--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a> <span 
class="ectt-1200">constructor() </span>method, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.addPropertyChangeListener("freqMHz", self.freqMHz_changed)
]]></script></div>
<!--l. 148--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.2.3   </span> <a 
 id="x6-770004.7.2.3"></a>Java</h5>
<!--l. 150--><p class="noindent" >Java <a 
href="mainli2.html#glo:property">Properties</a> support an idiomatic listener interface for responding to changes. As
opposed to C++ and Python, listener registration is performed directly on the <a 
href="mainli2.html#glo:property">Property</a>
object.
<!--l. 152--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span><a 
href="mainli2.html#glo:property">Property</a> of
a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">MyComponent</span>.
<!--l. 154--><p class="noindent" >Define your callback that will respond to changes for the <a 
href="mainli2.html#glo:property">Property</a> as a member function on your
<a 
href="mainli2.html#glo:component">Component</a> class. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the old and new value arguments can be the
primitive type (for example, float):
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
private void freqMHz_changed(float oldValue, float newValue) {
     // Perform action based on change
}
]]></script></div>
<!--l. 162--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">constructor() </span>method, define an anonymous subclass of
<span 
class="ectt-1200">org.ossie.properties.PropertyListener </span>that connects the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s change notification to
your callback. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the type parameter of the <span 
class="ectt-1200">PropertyListener </span>class
must be the boxed type (for example, <span 
class="ectt-1200">Float</span>).
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.freqMHz.addChangeListener(new PropertyListener<Float>() {
     public void valueChanged(Float oldValue, Float newValue) {
         MyComponent.this.freqMHz_changed(oldValue, newValue);
     }
});
]]></script></div>
<!--l. 172--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.3   </span> <a 
 id="x6-780004.7.3"></a>Customizing Query and Configure</h4>
<!--l. 174--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> This feature is C++-only in REDHAWK 2.1.2. </p></div></div>
<!--l. 178--><p class="noindent" >The REDHAWK libraries and generated <a 
href="mainli2.html#glo:component">Component</a> code automatically handle <span 
class="ectt-1200">query() </span>and
<span 
class="ectt-1200">configure() </span>for all defined <a 
href="mainli2.html#glo:property">Properties</a>. However, in some cases, it may be preferable to retrieve
the current value of a <a 
href="mainli2.html#glo:property">Property</a> in response to a <span 
class="ectt-1200">query()</span>, such as when fetching status from an
external library. A developer may also want more control over how the <a 
href="mainli2.html#glo:property">Property</a> value
is set. <a 
href="mainli2.html#glo:component">Components</a> support per-property callbacks to customize query and configure
behavior.
<!--l. 183--><p class="noindent" >The query callback is called when the <a 
href="mainli2.html#glo:component">Component</a> receives a <span 
class="ectt-1200">query() </span>for that <a 
href="mainli2.html#glo:property">Property</a>, in lieu of
consulting the local state. Likewise, the configure callback is called when the <a 
href="mainli2.html#glo:component">Component</a>
receives a <span 
class="ectt-1200">configure() </span>for that <a 
href="mainli2.html#glo:property">Property</a>, instead of updating the <a 
href="mainli2.html#glo:component">Component</a> local
state.
<!--l. 186--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> Unlike property listeners, the configure callback is always called regardless of whether the new
value is equal to the old value. </p></div></div>
<!--l. 190--><p class="noindent" >Query and configure callbacks are executed while holding the lock that protects access to all
<a 
href="mainli2.html#glo:property">Properties</a> for the <a 
href="mainli2.html#glo:component">Component</a>. This ensures that the callback has exclusive access to the
<a 
href="mainli2.html#glo:component">Component</a> <a 
href="mainli2.html#glo:property">Properties</a>. If possible, avoid computationally expensive or blocking operations to
ensure that the <a 
href="mainli2.html#glo:component">Component</a> remains responsive.
<!--l. 194--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.3.1   </span> <a 
 id="x6-790004.7.3.1"></a>C++</h5>
<!--l. 196--><p class="noindent" >In C++, query and configure callbacks are registered on the <a 
href="mainli2.html#glo:component">Components</a>. Registering a new
callback replaces the old one.
                                                                                         
                                                                                         
<!--l. 203--><p class="noindent" ><h5>Query Callbacks</h5>
<!--l. 207--><p class="noindent" >To create a query callback, in <span 
class="ectt-1200">[component].h</span>, add a private member function declaration. It takes
no arguments and returns the value:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
float get_freqMHz();
]]></script></div>
<!--l. 214--><p class="noindent" >Implement the function in <span 
class="ectt-1200">[component].cpp</span>.
<!--l. 216--><p class="noindent" >Then, in the body of <span 
class="ectt-1200">constructor()</span>, register the query function:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->setPropertyQueryImpl(freqMHz, this, &MyComponent_i::get_freqMHz);
]]></script></div>
<!--l. 222--><p class="noindent" ><span 
class="ectt-1200">setPropertyQueryImpl </span>takes three arguments: the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s member variable, the target object
(typically <span 
class="ectt-1200">this</span>) and a pointer to a member function.
<!--l. 228--><p class="noindent" ><h5>Configure Callbacks</h5>
<!--l. 232--><p class="noindent" >To create a configure callback, in <span 
class="ectt-1200">[component].h</span>, add a private member function declaration. It
takes one argument, the new value, and returns <span 
class="ectt-1200">void</span>:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
void set_freqMHz(float value);
]]></script></div>
<!--l. 239--><p class="noindent" >Implement the function in <span 
class="ectt-1200">[component].cpp</span>.
<!--l. 241--><p class="noindent" >Then, in the body of <span 
class="ectt-1200">constructor()</span>, register the configure function:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->setPropertyConfigureImpl(freqMHz, this, &MyComponent_i::set_freqMHz);
]]></script></div>
<!--l. 247--><p class="noindent" ><span 
class="ectt-1200">setPropertyConfigureImpl </span>takes three arguments: the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s member variable, the target
object (typically <span 
class="ectt-1200">this</span>) and a pointer to a member function.
<!--l. 249--><p class="noindent" >When a configure callback is set, the member variable is not updated automatically. It is up to the
<a 
href="mainli2.html#glo:component">Component</a> developer to update the member variable, if desired.
<!--l. 252--><p class="noindent" >
                                                                                         
                                                                                         
<h5 class="subsubsectionHead"><span class="titlemark">4.7.3.2   </span> <a 
 id="x6-800004.7.3.2"></a>Overriding the <span 
class="ectt-1200">configure() </span>Method</h5>
<!--l. 256--><p class="noindent" >For the vast majority of cases, the standard <span 
class="ectt-1200">configure() </span>implementation is sufficient. Developers
are strongly discouraged from overriding <span 
class="ectt-1200">configure()</span>. However, in the event that additional
functionality beyond what is provided is required, the overridden method should call the base class
<span 
class="ectt-1200">configure() </span>method to ensure that the behavior expected by the library and framework is
preserved. Whether the base class method is pre- or post-extended is left to the discretion of the
<a 
href="mainli2.html#glo:component">Component</a> developer.
<!--l. 258--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.4   </span> <a 
 id="x6-810004.7.4"></a>Synchronization</h4>
<!--l. 260--><p class="noindent" >External listeners to properties can be informed of changes in <a 
href="mainli2.html#glo:component">Component</a> <a 
href="mainli2.html#glo:property">Properties</a> by using the
<span 
class="ectt-1200">registerPropertyListener </span>function on the <a 
href="mainli2.html#glo:component">Component</a>. The <span 
class="ectt-1200">registerPropertyListener</span>
function allows an event consumer to register with the <a 
href="mainli2.html#glo:component">Component</a>. Upon registration,
the <a 
href="mainli2.html#glo:component">Component</a> begins a thread that monitors the value of the requested <a 
href="mainli2.html#glo:property">Properties</a>.
When the value of any of the monitored <a 
href="mainli2.html#glo:property">Properties</a> changes, an event is issued notifying
the consumer what <a 
href="mainli2.html#glo:property">Property</a> changed on what <a 
href="mainli2.html#glo:component">Component</a>, when, and to what new
value.
<!--l. 265--><p class="noindent" >To maintain synchronization between <a 
href="mainli2.html#glo:property">Property</a> change events and <span 
class="ectt-1200">query </span>calls to the <a 
href="mainli2.html#glo:component">Component</a>, it
is possible to add a <span 
class="ectt-1200">QUERY_TIMESTAMP </span>property to the query. The <span 
class="ectt-1200">QUERY_TIMESTAMP </span><a 
href="mainli2.html#glo:property">Property</a> on
the <span 
class="ectt-1200">query() </span>is populated with the timestamp for this <span 
class="ectt-1200">query</span>. The returned timestamp can be
compared to asynchronously received <a 
href="mainli2.html#glo:property">Property</a> change events to assess what is the most recent
known value for the requested <a 
href="mainli2.html#glo:property">Property</a>
<!--l. 2--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.8   </span> <a 
 id="x6-820004.8"></a>Working with Events</h3>
<!--l. 5--><p class="noindent" >In addition to using message event Properties and message Ports, the REDHAWK library
enables developers to interface with Event Channels to send and receive non-REDHAWK
structured messages using the CORBA Any object. The library provides both Publisher and
Subscriber interfaces for sending and receiving data. The libraries make use of existing
marshaling and unmarshaling support for simple data types (i.e., int, float, string, etc.),
REDHAWK Core Framework event messages, and defined structured messages used
by your Component. For custom structured data, it is the developer&#8217;s responsibility
to implement the marshaling and unmarshaling methods into and out of a CORBA
Any or serialize the data structure into string type that can be marshaled. This API
is considered an advanced topic to support custom behavior using CORBA&#8217;s Event
                                                                                         
                                                                                         
Channels.
<!--l. 7--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.8.1   </span> <a 
 id="x6-830004.8.1"></a>Publisher Support</h4>
<!--l. 9--><p class="noindent" >To publish data to an Event Channel, the Publisher role provides the following method:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">push </span>- Accepts data to forward to an Event Channel. For C++, structured data types
      require the overload of <span class="obeylines-h"><span class="verb"><span 
class="ectt-1200">"operator&#x003C;&#x003C;="</span></span></span>. For Python and Java, structured data should
      be marshaled into the CORBA Any object.</li></ul>
<!--l. 14--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.1.1   </span> <a 
 id="x6-840004.8.1.1"></a>C++ Example of Publisher</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[

  // Define in Component Class
  Component.h

        struct MsgData {
             int id;
             std::string data;
        };

       redhawk::events::ManagerPtr   ecm;

       redhawk::events::PublisherPtr pub;

  Component.cpp

        Component::constructor {

             // get access to the Event Channel Manager
             ecm = redhawk::events::GetManager( this );

             // request a Publisher object for an Event Channel
             if ( ecm ) {
                  pub = ecm->Publisher("test1");
             }

        }

        // required to marshall data into the CORBA::Any
        void operator&lt;&lt;=( CORBA::Any &any, const MsgData &msg ) {
             // marshall MsgData to Any
        };

        Component::serviceFunction {

              // create a structured message
              MsgData  my_msg = generateMsg();

              if ( pub ) {
                   pub->push( my_msg);
             }

              or

              // simple text based messages
              if ( pub )  pub->push( "simple message to send" );

        }



]]></script>                                                                                         
                                                                                         
</div>
<!--l. 68--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.1.2   </span> <a 
 id="x6-850004.8.1.2"></a>Python Example of Publisher</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[

  # Define in Component.py
  from omniORB import CORBA, any
  from ossie.events import Manager

  class MsgData(object):
     def __init__(self):
         self.id = 0;
         self.data = ""

     # convert message to a dictionary
     def encode(self):
         return { 'id', : self.id, 'data' : self.data }


  class Component


    def constructor(self):
         # get access to the Event Channel Manager
         self.ecm = Manager.GetManager( self );
         if self.ecm:
             # request a Publisher object for an Event Channel
             self.pub = self.ecm.Publisher("test1");


    def process(self):

       msgdata = self.generateMsgData()

       if self.pub:
            self.pub.push( msgdata.encode() )

        or

        // simple text based messages
        if self.pub : self.pub.push( "simple text message");


]]></script></div>
                                                                                         
                                                                                         
<!--l. 111--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.1.3   </span> <a 
 id="x6-860004.8.1.3"></a>Java Example of Publisher</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[

  // Define in Component.java
  import org.omg.CORBA.ORB;

  // add required imports
  import org.ossie.events.Manager;
  import org.ossie.events.Publisher;

  // add members to your component's class

  private org.ossie.events.Manager   ecm;
  private org.ossie.events.Publisher pub;


    public class MsgData {
        public int  id;
        public String data;
    }


    public org.omg.CORBA.TypeCode getType ()
    {
        return  org.omg.CORBA.ORB.init ().create_interface_tc
               (\"IDL:MsgData/MsgData:1.0\", "MsgData");
    }

    public void constructor() {

        try {
            this.ecm = Manager.GetManager( this );

               try {
                        if (this.pub == null ) {
                         this.pub = ecm.Publisher("test1");
                     }

                   catch( org.ossie.events.Manager.RegistrationFailed e) {
                      //  handle registration error
                   }
                   catch( org.ossie.events.Manager.RegistrationExists e) {
                        // handle registration error
                   }
           }
         catch( org.ossie.events.Manager.OperationFailed e) {
                logger.error( e.getMessage());
         }
     }


    public void encodeMsg(Any a, MsgData msg)
    {
      // perform encoding of msg to  corba any,
    }

    protected int serviceFunction() {

         MsgData msg = generateMsg();

         if  ( this.pub != null ) {
              try {
                  this.pub.push( encodeMsg( msg )  );
              }
              catch( Exception ex ) {
                   // handle exception
              }
         }

     }

]]></script>                                                                                         
                                                                                         
</div>
<!--l. 185--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.8.2   </span> <a 
 id="x6-870004.8.2"></a>Subscriber Support</h4>
<!--l. 187--><p class="noindent" >The Subscriber role provides two modes (polling vs callback), for receiving data from an Event
Channel. Both methods require the developer to unmarshal data from a CORBA Any. For C++,
structured data types require the overload of <span class="obeylines-h"><span class="verb"><span 
class="ectt-1200">"operator&#x003E;&#x003E;="</span></span></span>. For Python and Java, structured
data should be unmarshaled from the CORBA Any object.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">getData </span>-  (polling)  Grab  a  message  from  the  Event  Channel.  If  no  messages  are
      available  then  return  -1.  For  Python,  a  CORBA  Any  is  returned  or  None  for  no
      messages available.
      </li>
      <li class="itemize"><span 
class="ectt-1200">callback </span>- Provide a callback to the Subscriber object. As data arrives from the Event
      Channel, this callback is notified.</li></ul>
<!--l. 194--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.1   </span> <a 
 id="x6-880004.8.2.1"></a>Example of C++ Subscriber Role Using <span 
class="ectt-1200">getData </span>Method</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[

  // Polling snippet example, define in Component Class
  Component.h

       redhawk::events::ManagerPtr    ecm;

       redhawk::events::SubscriberPtr sub;

        struct MsgData {
             int id;
             std::string data;
        };

  Component.cpp

        // required to unmarshall data from the CORBA::Any
        bool operator&gt;&gt;=( const CORBA::Any &any, const MsgData *&msg ) {
             //unmarshall Any inoto MsgData
        };

        Component::constructor {

             // get access to the Event Channel Manager
             ecm = redhawk::events::GetManager( this );

             // request a Subscriber object for an Event Channel
             if ( ecm ) {
                sub = ecm->Subscriber("test1");
             }

        }

        Component::serviceFunction {

           MsgData msgin;
            if ( sub && sub->getData( msgin ) == 0 ) {
           RH_NL_INFO("mylogger", "Received msg =" &lt;&lt; msgin.id);
           }

        }

]]></script>
                                                                                         
                                                                                         
</div>
<!--l. 239--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.2   </span> <a 
 id="x6-890004.8.2.2"></a>Example of C++ Subscriber Role Using <span 
class="ectt-1200">callback </span>Method</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[

  // Callback snippet example, define in Component Class
  Component.h

       redhawk::events::ManagerPtr    ecm;

       redhawk::events::SubscriberPtr sub;

        struct MsgData {
             int id;
             std::string data;
        };

       void  my_msg_cb( const CORBA::Any &data );

  Component.cpp

        // required to unmarshall data from the CORBA::Any
        bool operator&gt;&gt;=( const CORBA::Any &any, const MsgData *&msg ) {
             //unmarshall Any into MsgData
        };

        void Component::my_msg_cb( const CORBA::Any &data ) {

           // structure msg
           MsgData msg;
           if ( data &gt;&gt;= msg ) {
             LOG_INFO( Component, "Received message " &lt;&lt; msg.id );
           }

        }

        Component::constructor {

             // get access to the Event Channel Manager
             ecm = redhawk::events::GetManager( this );

             // request a Subscriber object for an Event Channel
             if ( ecm ) {
                sub = ecm->Subscriber("test1");
                sub->setDataArrivedListener( this , &Component::my_msg_cb );
             }

        }

]]></script>                                                                                         
                                                                                         
</div>
<!--l. 289--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.3   </span> <a 
 id="x6-900004.8.2.3"></a>Example of Python Subscriber Role Using <span 
class="ectt-1200">getData </span>Method</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[

  # Polling snippet example, define in Component.py
  from ossie.events import Manager
  from omniORB import CORBA, any

  class MsgData(object):
     def __init__(self):
         self.id = 0
         self.data = ""



    def constructor(self):

         # get access to the Event Channel Manager
         self.ecm = Manager.GetManager( self )
         if self.ecm:
             # request a Subscriber object for an Event Channel
             self.sub = self.ecm.Subscriber("test1")

    def decodeMsg(self, raw ):
        # unpack message back into
        mdict = any.from_any(raw)
        ret = MsgData()
        ret.id = mdict['id']
        ret.data = mdict['data']
        return ret

    def process(self):

         if self.sub:
              raw = self.sub.getData()
              if raw:
                  msgin = self.decodeMsg(raw)
                  self._log.info("Received message  = " +str(msgin.id))

]]></script></div>
                                                                                         
                                                                                         
<!--l. 330--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.4   </span> <a 
 id="x6-910004.8.2.4"></a>Example of Python Subscriber Role Using <span 
class="ectt-1200">callback </span>Method</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[

  # Callback snippet example, define in Component.py
  from ossie.events import Manager
  from omniORB import CORBA, any

  class MsgData(object):
     def __init__(self):
         self.id = 0
         self.data = ""


    def msg_cb(self, data):
        if data:
             # unpack message back into
             mdict = any.from_any(data)
             msg = MsgData()
             msg.id = mdict['id']
             msg.data = mdict['data']
             # do something with msg

    def constructor(self):

         # get access to the Event Channel Manager
         self.ecm = Manager.GetManager( self );
         if self.ecm:
             # request a Subscriber object for an Event Channel
             self.sub = self.ecm.Subscriber("test1")
             self.sub.setDataArrivedCB( self.msg_cb )

]]></script></div>
<!--l. 363--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.5   </span> <a 
 id="x6-920004.8.2.5"></a>Example of Java Subscriber Role Using <span 
class="ectt-1200">getData </span>Method</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[

  // Polling snippet example, define in Component.java

  import org.omg.CORBA.Any;
  import org.omg.CORBA.ORB;

  // add required imports
  import org.ossie.events.Manager;
  import org.ossie.events.Subscriber;

  // add members to your component's class
  private org.ossie.events.Manager    ecm;
  private org.ossie.events.Subscriber sub;

    public class MsgData {
        public int  id;
        public String data;
    }


    public org.omg.CORBA.TypeCode getType ()
    {
        return  org.omg.CORBA.ORB.init ().create_interface_tc
               ("IDL:MsgData/MsgData:1.0", "MsgData");
    }

    public void constructor() {

      try {
        this.ecm = Manager.GetManager( this );

           try {
              if ( this.sub == null ) {
                  this.sub  = ecm.Subscriber("test1");
           }
           catch( org.ossie.events.Manager.RegistrationFailed e) {
                  // handle exceptions
           }
           catch( org.ossie.events.Manager.RegistrationExists e) {
                  // handle exceptions
           }
      }
      catch( org.ossie.events.Manager.OperationFailed e) {
              // handle exceptions
      }

    }

    public void decodeMsg( org.omg.CORBA.Any any, MsgData msg ) {
        // decode message from CORBA.Any;
    }

    protected int serviceFunction() {

      if  ( this.sub != null ) {

         if ( this.sub.getData( any ) == 0 ) {
              MsgData msg = new MsgData();
              decodeMsg( any, msg );
               logger.info("Received message = " + msg.id);
         }
      }


     }

]]></script>                                                                                         
                                                                                         
</div>
<!--l. 433--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.6   </span> <a 
 id="x6-930004.8.2.6"></a>Example of Java Subscriber Role Using <span 
class="ectt-1200">callback </span>Method</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[

  // Callback snippet example, define in Component.java

  import org.omg.CORBA.Any;
  import org.omg.CORBA.ORB;

  // add required imports
  import org.ossie.events.Manager;
  import org.ossie.events.Subscriber;
  import org.ossie.events.Subscriber.DataArrivedListener;

  // add members to your component's class
  private org.ossie.events.Manager    ecm;
  private org.ossie.events.Subscriber sub;

    public class MsgData {
        public int  id;
        public String data;
    }

    public class MsgArrived  implements DataArrivedListener {

      public Component parent=null;

      public MsgArrived ( Component inParent ) {
        parent = inParent;
      }

      public void processData( final Any data ) {
        // decode message from CORBA.Any;
        // do something with the message
      }

  }


    public org.omg.CORBA.TypeCode getType ()
    {
        return  org.omg.CORBA.ORB.init ().create_interface_tc
               ("IDL:MsgData/MsgData:1.0", "MsgData");
    }

    public void constructor() {

      try {
        this.ecm = Manager.GetManager( this );

           try {
              if ( this.sub == null ) {
                  this.sub  = ecm.Subscriber("test1");
                  this.my_ch = new MsgArrived(this);
                  this.sub.setDataArrivedListener(this.my_cb );
           }
           catch( org.ossie.events.Manager.RegistrationFailed e) {
                  // handle exceptions
           }
           catch( org.ossie.events.Manager.RegistrationExists e) {
                  // handle exceptions
           }
      }
      catch( org.ossie.events.Manager.OperationFailed e) {
              // handle exceptions
      }

    }


]]></script>                                                                                         
                                                                                         
</div>
                                                                                         
                                                                                         
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="mainch4.html" >front</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailmainch4.html"></a>    
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
